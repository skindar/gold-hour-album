(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const m=["IMG_001.jpg","IMG_002.jpg","IMG_003.jpg","IMG_004.jpg","IMG_005.jpg","IMG_006.jpg","IMG_007.jpg","IMG_008.jpg","IMG_009.jpg","IMG_010.jpg","IMG_011.jpg","IMG_012.jpg","IMG_013.jpg","IMG_014.jpg","IMG_015.jpg","IMG_016.jpg","IMG_017.jpg","IMG_018.jpg","IMG_019.jpg","IMG_020.jpg"],I=[703,594,813,750,625,781,656,719,610,798,688,735,640,765,730,700,720,695,740,710];function a(o){const e=[...o];for(let r=e.length-1;r>0;r--){const t=Math.floor(Math.random()*(r+1));[e[r],e[t]]=[e[t],e[r]]}return e}class b{constructor(e,r){this.baseImages=e,this.baseHeights=r,this.queue=[],this.currentIndex=0,this.lastImage=null,this.generateMore()}generateMore(){const e=a([...this.baseImages]),r=a([...this.baseHeights]);for(let t=0;t<e.length;t++)e[t]!==this.lastImage&&(this.queue.push({img:e[t],height:r[t]}),this.lastImage=e[t])}getNext(){return this.currentIndex>=this.queue.length&&this.generateMore(),this.queue[this.currentIndex++]}getMany(e){const r=[];for(let t=0;t<e;t++)r.push(this.getNext());return r}}const u=document.getElementById("galleryGrid"),g="/images/",M=new b(m,I);let l=0;const h=10;function d(o){M.getMany(o-l).forEach(r=>{const t=document.createElement("a");t.href=g+r.img,t.className="gallery-item glightbox",t.setAttribute("data-gallery","gallery"),t.style.setProperty("--item-height",r.height+"px");const s=document.createElement("img");s.src=g+r.img,s.alt="Photo",s.loading="lazy",t.appendChild(s),u.appendChild(t)}),l=o}d(h*2);const y={threshold:.1,rootMargin:"50px"},c=new IntersectionObserver(o=>{o.forEach(e=>{e.isIntersecting&&(e.target.classList.add("in-view"),c.unobserve(e.target))})},y),G={threshold:0,rootMargin:"500px"},v=new IntersectionObserver(o=>{o.forEach(e=>{e.isIntersecting&&(d(l+h),document.querySelectorAll(".gallery-item").forEach(r=>{r.classList.contains("in-view")||c.observe(r)}),p())})},G);function f(){document.querySelectorAll(".gallery-item").forEach(e=>{e.classList.contains("in-view")||c.observe(e)});const o=document.querySelectorAll(".gallery-item");o.length>0&&v.observe(o[o.length-1])}f();function p(){window.glightbox&&window.glightbox.destroy(),window.glightbox=GLightbox({selector:".glightbox",loop:!0,touchNavigation:!0,keyboardNavigation:!0})}p();const j=new MutationObserver(()=>{f()});j.observe(u,{childList:!0});console.log("âœ¨ Gallery: infinite scroll + random shuffle (no consecutive duplicates)");
